{"version":3,"sources":["VotingContainer.jsx"],"names":[],"mappings":"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","file":"VotingContainer-compiled.js","sourcesContent":["(function () {\r\n\r\n    var Film = React.createClass({\r\n        getInitialState(){\r\n            return {\r\n                selected: false\r\n            }\r\n        },\r\n        render() {\r\n\r\n            var filmInfoStyle = {\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              width: '75%',\r\n              height: '100px',\r\n              padding: '5px',\r\n              margin: '5px',\r\n              justifyContent: 'center',\r\n              alignItems: 'center'\r\n            };\r\n\r\n            return (\r\n                <button style={filmInfoStyle}\r\n                    className=\"btn btn-out\"\r\n                    onClick={this._setFilmSelected}>\r\n                    <div style={{fontSize: '1.4rem'}}>{this.props.film.FilmName}</div>\r\n                </button>\r\n            )\r\n        },\r\n\r\n        _setFilmSelected(){\r\n            var nextSelected = !this.state.selected;\r\n\r\n            this.setState({\r\n                selected: nextSelected\r\n            }, () => {\r\n                this.props.onFilmChange(this.props.film.FilmId, this.props.film.BlockId, this.props.film.FilmName)\r\n            });\r\n        }\r\n    });\r\n\r\n    var Block = React.createClass({\r\n\r\n        getInitialState(){\r\n          return {\r\n              selectedFilmId: 0,\r\n              selectedBlockId: 0,\r\n              selectedFilmName: ''\r\n          }\r\n        },\r\n        render(){\r\n            var blockStyle = {\r\n                // border: 'solid',\r\n\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                flexDirection: 'column',\r\n                width: '100%',\r\n                height: '200px',\r\n                padding: '5px',\r\n                backgroundColor:'#f5f5f0'\r\n            };\r\n\r\n            var filmElements = this.props.films.map((film, i) =>\r\n                <Film film={film}\r\n                      key={i}\r\n                      onFilmChange={this._onFilmChange}\r\n                      selected={this.state.selectedFilmId === film.FilmID}/>\r\n            );\r\n\r\n            var blockIdTag = this.props.blockId;\r\n\r\n            return (\r\n\r\n                <div style={{display:'flex',\r\n                             flexDirection:'column',\r\n                             justifyContent:'center',\r\n                             alignItems:'center',\r\n                             width:'75%',\r\n                             margin: '15px'}}\r\n                     className=\"panel panel-default\"\r\n                     id={blockIdTag}>\r\n\r\n                    <div id=\"timeInfo\" style={{display:'flex', justifyContent:'center', alignItem: 'center'}}>\r\n                    </div>\r\n\r\n                    <div style={blockStyle}>\r\n                        {filmElements}\r\n                    </div>\r\n\r\n                    <div style={{display:'flex',\r\n                                    justifyContent:'center',\r\n                                    alignItems:'center',\r\n                                    padding:'10px',\r\n                                    width: '100%',\r\n                                    flexDirection: 'column',\r\n                                    backgroundColor:'#f5f5f0'}}>\r\n                        <div className=\"well well-sm\"\r\n                             style={{display:'flex',\r\n                                        justifyContent: 'center',\r\n                                        alignItems: 'center',\r\n                                        width: '65%',\r\n                                        padding: '1px'}}>\r\n                            <h6>{this.state.selectedFilmName}</h6>\r\n                        </div>\r\n\r\n                        <button type=\"button\"\r\n                                onClick={this._onVoteSubmit}\r\n                                className=\"btn btn-lg btn-primary\"\r\n                                style={{width:'30%',backgroundColor:'#0d0d0d'}}>\r\n                            Vote\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )\r\n\r\n        },\r\n\r\n        _onFilmChange(filmId, blockId, filmName){\r\n\r\n            this.setState({\r\n                selectedFilmId: filmId,\r\n                selectedBlockId: blockId,\r\n                selectedFilmName: filmName\r\n            });\r\n        },\r\n\r\n        _onVoteSubmit(){\r\n            //temp, was to see info is being passed\r\n            //alert(this.state.selectedFilmId + \" \" + this.state.selectedBlockId);\r\n            var filmId = this.state.selectedFilmId;\r\n            var blockedId = this.state.selectedBlockId;\r\n\r\n            if (filmId === 0 && blockedId === 0){\r\n                alert(\"Please pick a film to submit vote!\");\r\n                return false;\r\n            }\r\n\r\n            var href = window.location.href;\r\n            var VoterId = href.substr(href.lastIndexOf('/') + 1);\r\n\r\n            var voteArg = {\r\n                FilmId: this.state.selectedFilmId,\r\n                BlockId: this.state.selectedBlockId,\r\n                VoterId : VoterId\r\n\r\n            };\r\n\r\n            //next is make ajax call!\r\n            $.ajax({\r\n                url: '/Vote/SubmitVote/',\r\n                type: 'POST',\r\n                data: voteArg,\r\n                success:(data) => this._greyOutBlock(data, voteArg.BlockId),\r\n                error:(data) => this._greyOutBlock(data)\r\n            })\r\n        },\r\n\r\n        _greyOutBlock(data, blockId){\r\n            var thanks = \"\";\r\n\r\n            if(data){\r\n                thanks = \"<h1 class='text-center' style={{fontSize: '3rem'}}>Your vote has been saved <br/>Thank You!</h1>\"\r\n            } else  (\r\n                thanks = \"<h1 style={{fontSize: '4rem'}}>Thanks for voting!!</h1>\"\r\n            )\r\n\r\n            var killThisBlock = document.getElementById(blockId);\r\n\r\n            killThisBlock.innerHTML = thanks;\r\n        }\r\n    });\r\n\r\n    window.VotingContainer = React.createClass({\r\n\r\n        render(){\r\n            //eager loaded data\r\n            var blocks = Blocks.Lists;\r\n\r\n            var blocksAndFilms = blocks.map((array, i) =>\r\n                <Block films={array}\r\n                       key={i}\r\n                       blockId={array[0].BlockId}/>\r\n            );\r\n\r\n            return (\r\n                <div style= {{display:'flex',\r\n                             justifyContent: 'center',\r\n                             alignItems: 'center',\r\n                             flexDirection: 'column',\r\n                             backgroundColor:'#8a8a5c'}}>\r\n\r\n                    {blocksAndFilms}\r\n                </div>)\r\n        }\r\n    });\r\n\r\n})(window.React);\r\n"]}