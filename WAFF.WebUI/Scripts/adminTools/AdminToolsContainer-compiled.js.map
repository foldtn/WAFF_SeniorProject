{"version":3,"sources":["AdminToolsContainer.jsx"],"names":[],"mappings":"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","file":"AdminToolsContainer-compiled.js","sourcesContent":["(function () {\r\n\r\n    var Film = React.createClass({\r\n        render() {\r\n\r\n            var filmContain = {\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                border: 'solid 1px',\r\n                padding: '5px',\r\n                justifyContent: 'center',\r\n                alignItems: 'center'\r\n            };\r\n\r\n            var filmInfoDiv = {\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                border: 'solid 1px',\r\n                padding: '5px',\r\n                justifyContent: 'center',\r\n                alignItems: 'center'\r\n            };\r\n\r\n            return (\r\n                <div style={filmContain}>\r\n                    <div style={filmInfoDiv}>Name:{this.props.filmName}</div>\r\n                    <div style={filmInfoDiv}>Duration:{this.props.filmDuration}</div>\r\n                    <div>\r\n                        <button type=\"button\"\r\n                                onClick={this._removeFilmFromBlock.bind(null, this.props.filmId)}\r\n                                className=\"btn btn-lg btn-primary\"\r\n                                style={{backgroundColor:'#0d0d0d'}}>\r\n                            Remove\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        },\r\n\r\n        _removeFilmFromBlock(filmId){\r\n            var filmId = filmId;\r\n            var blockId = this.props.blockId;\r\n\r\n            var queryString = '?blockId=' + blockId +\r\n                                '&filmId=' + filmId;\r\n\r\n            $.ajax({\r\n                url: '/Events/RemoveFilmFromBlock' + queryString,\r\n                success: () => this._renewBlock(),\r\n                error: (e) => console.log(e)\r\n            })\r\n        },\r\n\r\n        _renewBlock() {\r\n            this.props.getFilmsInBlock(this.props.blockId);\r\n            this.props.calculateDurationRemaining();\r\n        }\r\n    });\r\n\r\n    var Block = React.createClass({\r\n        getInitialState() {\r\n            return {\r\n                selectedFilmId: 0,\r\n                selectedBlockId: 0,\r\n                currentDuration: 0,\r\n                blockDuration: this.props.block.Duration,\r\n                currentFilms: []\r\n            }\r\n        },\r\n\r\n        componentWillMount(){\r\n            this._getFilmsInBlock(this.props.block.BlockId);\r\n\r\n        },\r\n\r\n        componentDidMount() {\r\n            this._calculateDurationRemaining()\r\n        },\r\n\r\n        render() {\r\n            //region styles\r\n            var containingBlock = {\r\n                display: 'flex', flexDirection: 'row', border: 'solid 1px', padding: '10px', margin: '10px'\r\n            };\r\n\r\n            var insideBlock = {\r\n                width: '75%',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                border: 'solid 1px',\r\n                justifyContent: 'center',\r\n                alignItems: 'center'\r\n            };\r\n\r\n            var filmElementHolder = {\r\n                display: 'flex', justifyContent: 'center', flexDirection: 'column'\r\n            };\r\n            //endregion\r\n\r\n            var bInfo = this.props.block;\r\n            var blockRef = \"block\" + bInfo.BlockId;\r\n\r\n            var filmSelectElements = this.props.films.map(function (x, i) {\r\n                return (\r\n                    <option value={x.FilmID} key={i}>{x.FilmName}</option>\r\n                )\r\n            });\r\n\r\n            var filmElements = this.state.currentFilms.map((film, i) =>\r\n                <Film filmId={film.FilmId}\r\n                      blockId={film.BlockId}\r\n                      eventId={film.EventId}\r\n                      filmDuration={film.FilmLength}\r\n                      filmName={film.FilmName}\r\n                      getFilmsInBlock={this._getFilmsInBlock}\r\n                      calculateDurationRemaining={this._calculateDurationRemaining}\r\n                      key={i}/>\r\n            );\r\n\r\n            return (\r\n                <div style={containingBlock}>\r\n\r\n                    <div style={insideBlock}>\r\n\r\n                        <h4>Current Time Used: {this.state.currentDuration}</h4>\r\n\r\n                        <h4>Total Block Duration: {bInfo.Duration}</h4>\r\n\r\n                        <div id={blockRef} style={filmElementHolder}>\r\n                            {filmElements}\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div style={{border: 'solid 1px', width:'25%'}}>\r\n\r\n                        <div>\r\n                            <select id=\"films\" onChange={this._filmChange} value={this.state.value}>\r\n                                <option value=\"0\" selected=\"selected\"></option>\r\n                                {filmSelectElements}\r\n                            </select>\r\n\r\n                            <button onClick={this._addFilmToBlock}>\r\n                                ADD FILM TO BLOCk\r\n                            </button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            )\r\n        },\r\n\r\n        _filmChange(e){\r\n            this.setState({selectedFilmId: e.target.value});\r\n        },\r\n\r\n        _addFilmToBlock(){\r\n\r\n            if(this.state.selectedFilmId === 0) {\r\n                alert(\"Please select a film to add!\")\r\n            }\r\n            else {\r\n                var selectedFilmId = this.state.selectedFilmId;\r\n                var blockId = this.props.block.BlockId;\r\n\r\n                $.ajax({\r\n                    url: '/Events/AddFilmToBlock?blockId=' + blockId + '&filmId=' + selectedFilmId,\r\n                    type: 'POST',\r\n                    success: (data) => this._renewBlock(data),\r\n                    error: (e) => console.log(e)\r\n                });\r\n            }\r\n\r\n        },\r\n\r\n        _renewBlock(blockId){\r\n            this._getFilmsInBlock(blockId);\r\n            this._calculateDurationRemaining();\r\n        },\r\n\r\n        _calculateDurationRemaining() {\r\n            $.ajax({\r\n                url: '/Events/GetBlockRemainingDuration?blockId=' + this.props.block.BlockId,\r\n                success: (data) => this.setState({\r\n                    currentDuration: data\r\n                }),\r\n                error: () => alert(\"error in setting current duration in block:\" + this.props.block.BlockId)\r\n            })\r\n        },\r\n\r\n        _getFilmsInBlock(blockId) {\r\n\r\n            var queryString = '?blockId=' + blockId\r\n                + '&eventId=' + viewModel.EventId;\r\n\r\n            $.ajax({\r\n                url: '/Events/GetBlocksCurrentFilms' + queryString,\r\n                success: (data) => this.setState({\r\n                    currentFilms: data\r\n                }),\r\n                error: () => alert(\"error\")\r\n            });\r\n        }\r\n    });\r\n\r\n    window.AdminToolsContainer = React.createClass({\r\n\r\n        render() {\r\n\r\n            var blocks = viewModel.AdminBlockViewModels;\r\n\r\n            var films = viewModel.Films;\r\n\r\n\r\n            var blockElements = blocks.map((block, i) =>\r\n                <Block films={films}\r\n                       key={i}\r\n                       block={block}/>\r\n            );\r\n\r\n            return (\r\n                <div style={{display: 'flex', flexDirection:'column'}}>\r\n                    {blockElements}\r\n                </div>\r\n            )\r\n        }\r\n    });\r\n\r\n})(window.React);"]}